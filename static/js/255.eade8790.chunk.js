"use strict";(self.webpackChunkreact_phone_catalog=self.webpackChunkreact_phone_catalog||[]).push([[255],{5488:(e,t,a)=>{a.d(t,{u:()=>j});var s=a(5043),n=a(2640),o=a(1516);const l="pagePartTop_breadcrumbs__opQQr",c="pagePartTop_breadcrumbs__link__N2v4g",r="pagePartTop_title__m6MOt",i="pagePartTop_label__AHrb1",d="pagePartTop_currentBreadcrumb__ZkMpa",u="pagePartTop_backButton__qC98z";var m=a(3216),_=a(5475),h=a(3594),p=a(3762),C=a(8139),v=a.n(C),k=a(1596),g=a(579);const j=(0,s.memo)((e=>{let{title:t,isLoadingTitle:a=!1,isLoading:C=!1,productsCount:j=0,tag:x="h1",productName:b}=e;const{itemId:N}=(0,m.g)(),f=(0,m.zy)(),y=(0,m.Zp)(),[w,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{var e;const t=void 0!==(null===(e=f.state)||void 0===e?void 0:e.fromLocation);A(!!t)}),[f]);const L=(0,s.useMemo)((()=>{const e=f.pathname.split("/");return e.map(((t,a)=>{const s=a===e.length-1,n="".concat(e.slice(0,a+1).join("/"));return 0===a?(0,g.jsx)(_.N_,{to:h.AY.home,className:v()(c,p.A["_icon-home"])},a):"products"===t?null:s?(0,g.jsx)("span",{className:d,children:N?b||"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":(0,k.Z)(t)},a):(0,g.jsx)(_.N_,{to:n,className:c,children:(0,k.Z)(t)},a)}))}),[N,f.pathname,b]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("nav",{className:l,children:L.filter(Boolean)}),w&&(0,g.jsx)("button",{className:v()(u,p.A["_icon-arrow"]),onClick:()=>{var e,t;null!==(e=f.state)&&void 0!==e&&e.fromLocation&&(console.log("location",null===(t=f.state)||void 0===t?void 0:t.fromLocation),y(f.state.fromLocation))},children:"Back"}),a?(0,g.jsx)(o.m,{height:"h1"===x?56:41,width:"100%",className:r}):(0,g.jsx)(n.v,{Tag:x,title:t,className:r}),C&&(0,g.jsx)(o.m,{height:21,width:"100%"}),!C&&0!==j&&(0,g.jsx)("p",{className:i,children:"".concat(j," models")})]})}))},9255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(5043),n=a(5488),o=a(4763),l=a(8115);const c="cartProductsList_list__NZ8jF";var r=a(5786),i=a(9663),d=a(8139),u=a.n(d),m=a(3524),_=a(579);const h=(0,s.memo)((e=>{let{className:t,minusAmount:a,plusAmount:n,totalCountHandler:o,totalAmountHandler:d,setIsEmptyHandler:h,isLoading:p,isLoadingHandler:C}=e;const[v,k]=(0,s.useState)([]),[g,j]=(0,r.M)(i.U,[]),x=(e,t)=>e.reduce(((e,a)=>{var s;const n=(null===(s=t.find((e=>e.itemId===a.itemId)))||void 0===s?void 0:s.count)||1;return e+a.price*n}),0),b=(0,s.useCallback)((e=>{const t=t=>t.itemId!==e,a=[...g].filter(t),s=v.filter(t);j(a),k((e=>e.filter(t))),o(s.length),d(x(s,a)),0===a.length&&h(!0)}),[g,v,j,h,d,o]),N=(0,s.useCallback)(((e,t)=>{const a=g.findIndex((e=>e.itemId===t));g[a]&&(g[a].count++,j([...g]),null===n||void 0===n||n(e))}),[g,n,j]),f=(0,s.useCallback)(((e,t)=>{const s=g.findIndex((e=>e.itemId===t));g[s]&&g[s].count-1!==0&&(g[s].count--,j([...g]),null===a||void 0===a||a(e),0===e&&h(!0))}),[g,a,j,h]),y=(0,s.useMemo)((()=>v.map((e=>(0,_.jsx)(l.st,{product:e,removeCart:b,plusAmount:N,minusAmount:f},e.id)))),[N,f,v,b]);return(0,s.useEffect)((()=>{C(!0),(async()=>{let e=await(0,l.j0)();return Array.isArray(e)?(e=[...e].filter((e=>e.cartItem)),e):[]})().then((e=>{0===e.length?h(!0):(k(e),h(!1),d(x(e,g)),o(e.length))})).finally((()=>C(!1)))}),[C,h,d,o]),(0,_.jsx)("div",{className:u()(c,t),children:p?(0,_.jsx)(m.a,{}):y})}));var p=a(5600);const C="chekout_title__qNdwf",v="chekout_buttons__QGLQk",k="chekout_card__FkHfK",g="chekout_card__top__UlwXW",j="chekout_amount__7CWCz",x="chekout_count__IWgOa",b="modal_modal__thoV9",N="modal_content__Fa1Pm",f="modal_opened__8TQ0W",y="modal_isClosing__I88ia",w="modal_overlay__ZbsfB";var A=a(7950);const L=e=>{let{children:t,element:a=document.body}=e;return(0,A.createPortal)(t,a)};var P=a(3699);const S=e=>{const{className:t,children:a,isOpen:n,onClose:o}=e,{theme:l}=(0,P.DP)(),{isClosing:c,close:r}=function(e){const{onClose:t,isOpen:a,animationDelay:n=300}=e,[o,l]=(0,s.useState)(!1),c=(0,s.useRef)(),r=(0,s.useCallback)((()=>{t&&(l(!0),c.current=setTimeout((()=>{t(),l(!1)}),n))}),[n,t]),i=(0,s.useCallback)((e=>{"Escape"===e.key&&r()}),[r]);return(0,s.useEffect)((()=>(a&&window.addEventListener("keydown",i),()=>{clearTimeout(c.current),window.removeEventListener("keydown",i)})),[a,i]),{isClosing:o,close:r}}({animationDelay:300,isOpen:n,onClose:o});return(0,_.jsx)(L,{children:(0,_.jsxs)("div",{className:u()(b,{[f]:n,[y]:c},[t,l,"app_modal"]),children:[(0,_.jsx)("div",{role:"presentation",onClick:r,onKeyDown:r,className:u()(w)}),(0,_.jsx)("div",{className:N,children:a})]})})};var I=a(2640);const T=e=>{let{className:t,totalAmount:a,totalCount:n,removeAllHandler:o}=e;const[c,i]=(0,s.useState)(!1),[,d]=(0,r.M)(l.Uy,[]),m=(0,s.useCallback)((()=>{i((e=>!e))}),[]),h=(0,s.useCallback)((()=>{d([]),o()}),[o,d]);return(0,_.jsxs)("div",{className:u()(k,t),children:[(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)("p",{className:j,children:a}),(0,_.jsx)("p",{className:x,children:"Total for ".concat(n," items")})]}),(0,_.jsx)(p.$n,{onClick:m,size:p.Mp.FULL,children:"Checkout"}),(0,_.jsxs)(S,{isOpen:c,onClose:m,children:[(0,_.jsx)(I.v,{Tag:"h3",title:"Checkout is not implemented yet. Do you want to clear the Cart?",className:C}),(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)(p.$n,{onClick:h,children:"Clear"}),(0,_.jsx)(p.$n,{onClick:m,children:"Cancel"})]})]})]})},H={body:"cartPage_body__bd0Pi",list:"cartPage_list__3BU+y",checkout:"cartPage_checkout__Gg2Dl"};var M=a(2272);function E(){const[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(0),[c,r]=(0,s.useState)(0),[i,d]=(0,s.useState)(!1),u=(0,s.useCallback)((e=>{d(e)}),[]),m=(0,s.useCallback)((e=>{t(e)}),[]),p=(0,s.useCallback)((e=>{r(e)}),[]),C=(0,s.useCallback)((e=>{l(e)}),[]),v=(0,s.useCallback)((e=>{l((t=>t+e))}),[]),k=(0,s.useCallback)((e=>{l(a-e<=0?0:t=>t-e)}),[a]),g=(0,s.useCallback)((()=>{p(0),C(0),m(!0)}),[m,C,p]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(o.w,{firstSection:!0,lastSection:!0,children:[(0,_.jsx)(n.u,{tag:"h2",title:"Cart"}),e?(0,_.jsx)(M.M,{src:"img/cart-is-empty.png",alt:"Cart is empty"}):(0,_.jsxs)("div",{className:H.body,children:[(0,_.jsx)(h,{className:H.list,plusAmount:v,minusAmount:k,totalCountHandler:p,totalAmountHandler:C,setIsEmptyHandler:m,isLoading:i,isLoadingHandler:u}),!i&&(0,_.jsx)(T,{className:H.checkout,totalAmount:a,totalCount:c,removeAllHandler:g})]})]})})}},2272:(e,t,a)=>{a.d(t,{M:()=>o});const s="notFound_wrapper__Ky7Jb";var n=a(579);const o=e=>{let{alt:t,src:a}=e;return(0,n.jsx)("div",{className:s,children:(0,n.jsx)("img",{src:a,alt:t})})}},4763:(e,t,a)=>{a.d(t,{w:()=>d});const s="section_standartSection__QZBN0",n="section_firstSection__fmPZ6",o="section_padding-bottom__s7C6U";var l=a(8139),c=a.n(l),r=a(3774),i=a(579);const d=e=>{let{children:t,className:a,firstSection:l,lastSection:d=!1}=e;return(0,i.jsx)("section",{className:c()(a,s,{[n]:l,[o]:d}),children:(0,i.jsx)(r.m,{children:t})})}}}]);
//# sourceMappingURL=255.eade8790.chunk.js.map