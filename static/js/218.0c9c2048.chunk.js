"use strict";(self.webpackChunkreact_phone_catalog=self.webpackChunkreact_phone_catalog||[]).push([[218],{5488:(e,t,a)=>{a.d(t,{u:()=>b});var s=a(5043),r=a(2640),n=a(1516);const o="pagePartTop_breadcrumbs__opQQr",c="pagePartTop_breadcrumbs__link__N2v4g",l="pagePartTop_title__m6MOt",i="pagePartTop_label__AHrb1",u="pagePartTop_currentBreadcrumb__ZkMpa",g="pagePartTop_backButton__qC98z";var p=a(3216),d=a(5475),h=a(3594),m=a(3762),_=a(8139),P=a.n(_),j=a(1596),N=a(579);const b=(0,s.memo)((e=>{let{title:t,isLoadingTitle:a=!1,isLoading:_=!1,productsCount:b=0,tag:C="h1",productName:v}=e;const{itemId:f}=(0,p.g)(),x=(0,p.zy)(),S=(0,p.Zp)(),[k,G]=(0,s.useState)(!1);(0,s.useEffect)((()=>{var e;const t=void 0!==(null===(e=x.state)||void 0===e?void 0:e.fromLocation);G(!!t)}),[x]);const T=(0,s.useMemo)((()=>{const e=x.pathname.split("/");return e.map(((t,a)=>{const s=a===e.length-1,r="".concat(e.slice(0,a+1).join("/"));return 0===a?(0,N.jsx)(d.N_,{to:h.AY.home,className:P()(c,m.A["_icon-home"])},a):"products"===t?null:s?(0,N.jsx)("span",{className:u,children:f?v||"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":(0,j.Z)(t)},a):(0,N.jsx)(d.N_,{to:r,className:c,children:(0,j.Z)(t)},a)}))}),[f,x.pathname,v]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("nav",{className:o,children:T.filter(Boolean)}),k&&(0,N.jsx)("button",{className:P()(g,m.A["_icon-arrow"]),onClick:()=>{S(-1)},children:"Back"}),a?(0,N.jsx)(n.m,{height:"h1"===C?56:41,width:"100%",className:l}):(0,N.jsx)(r.v,{Tag:C,title:t,className:l}),_&&(0,N.jsx)(n.m,{height:21,width:"100%"}),!_&&0!==b&&(0,N.jsx)("p",{className:i,children:"".concat(b," models")})]})}))},4218:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(5043),r=a(3216),n=a(5475),o=a(8127),c=a(3146),l=a(9067),i=a(6949);const u="productsPageFilter_filters__NUQYS",g="productsPageFilter_sort__E0Yod",p="productsPageFilter_pages__oeWOA",d="productsPageFilter_search__8CSKi";var h=a(1596),m=a(2681);function _(e,t){const a=new URLSearchParams(e.toString());return Object.entries(t).forEach((e=>{let[t,s]=e;null===s?a.delete(t):a.set(t,s)})),a.toString()}var P=a(6405);const j=(0,a(830).zD)("productsPage/initProductsPage",(async(e,t)=>{let{searchParams:a}=e;const{dispatch:s}=t,r=a.get("sort"),n=a.get("search"),o=a.get("perPage"),c=a.get("page");r&&s(l.GD.setSort(r)),c&&s(l.GD.setCurrentPage(+c)),o&&s(l.GD.setPerPage(o)),n&&s(l.GD.setSearch(n))}));var N=a(8962),b=a(5639),C=a(5600),v=a(8139),f=a.n(v),x=a(579);const S=(0,s.memo)((e=>{const{category:t}=(0,r.g)(),{className:a}=e,[v,S]=(0,n.ok)(),k=(0,o.j)(),{setSort:G,setPerPage:T,setSearch:L,setCurrentPage:A}=l.GD,E=(0,o.G)(i.F),M=(0,o.G)(m.M),w=(0,o.G)(P.T),F=(0,o.G)(b.p),y=(0,s.useCallback)((()=>{k((0,N.k)(t))}),[t,k]),z=function(e,t){const a=(0,s.useRef)();return(0,s.useCallback)((function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{e(...r)}),t)}),[e,t])}(y,500),Z=(0,s.useMemo)((()=>Object.values(c.h).map((e=>({value:e,label:(0,h.Z)(e)})))),[]),B=(0,s.useMemo)((()=>Object.values(c.N).map((e=>({value:e,label:(0,h.Z)(e)})))),[]),D=(0,s.useCallback)((e=>{k(G(e)),k(A(1)),S(_(v,{sort:e!==c.h.NEWEST?e:null})),y()}),[k,y,v,A,S,G]),O=(0,s.useCallback)((e=>{k(T(e)),k(A(1)),S(_(v,{perPage:e!==c.N.ALL?e:null})),y()}),[k,T,A,S,v,y]);return(0,s.useEffect)((()=>{S(_(v,{sort:E!==c.h.NEWEST?E:null,perPage:M!==c.N.ALL?M:null,search:""!==w?w:null}))}),[M,w,v,S,E]),(0,s.useEffect)((()=>{k(j({searchParams:v})),S(_(v,{sort:E!==c.h.NEWEST?E:null,perPage:M!==c.N.ALL?M:null,search:""!==w?w:null,page:1!==F&&M!==c.N.ALL?F.toString():null})),y()}),[t]),(0,x.jsxs)("div",{className:f()(u,a),children:[(0,x.jsx)(C.l6,{className:"".concat(g),label:"Sort By",formElementId:"sortBy",options:Z,value:E,onChange:D}),(0,x.jsx)(C.l6,{className:"".concat(p),label:"Items on page",formElementId:"itemsOnPage",options:B,value:M,onChange:O}),(0,x.jsx)(C.pd,{className:"".concat(d),label:"Search",search:w,onChange:e=>{k(L(e.target.value)),k(A(1)),S(_(v,{search:""!==w?w:null})),z()}})]})}));var k=a(2099),G=a(3278);const T=(0,k.Mz)(G.C,(e=>e.preparedProducts||[])),L=(0,k.Mz)(G.C,(e=>e.isloading)),A=(0,k.Mz)(G.C,(e=>e.productsCount)),E=(0,k.Mz)(G.C,(e=>e.pagesCount));var M=a(8115),w=a(4763),F=a(4865),y=a(5488),z=a(4679),Z=a(3594);const B=(0,k.Mz)(G.C,(e=>e.error)),D="productPage_productPage__filter__aWbeX";var O=a(3797),Q=a(3555);const W=()=>{const{category:e}=(0,r.g)(),t=(0,o.j)(),a=(0,o.G)(E),{setCurrentPage:c}=l.GD,[i,u]=(0,n.ok)(),g=(0,o.G)(T),p=(0,o.G)(A),d=(0,o.G)(L),h=(0,o.G)(b.p),m=(0,o.G)(B),P=z.Q[e],j=(0,s.useCallback)((a=>{h!==a&&(t(c(a)),u(_(i,{page:1!==a?a.toString():null})),t((0,N.k)(e)))}),[e,h,t,i,c,u]),C=Object.values(F.GV).includes(e);return C?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(w.w,{firstSection:!0,lastSection:!0,children:[(0,x.jsx)(y.u,{isLoading:d,productsCount:p,title:P}),!m&&C?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(S,{className:D}),g.length>0?(0,x.jsx)(M.jR,{products:g,isLoading:d,totalPages:a,onChangeCurrentPage:j,currentPage:h}):(0,x.jsx)(Q.V,{text:"There are no ".concat(e," yet")})]}):(0,x.jsx)(O.A,{})]})}):(0,x.jsx)(r.C5,{to:Z.AY.not_found,replace:!0})}},4763:(e,t,a)=>{a.d(t,{w:()=>u});const s="section_standartSection__QZBN0",r="section_firstSection__fmPZ6",n="section_padding-bottom__s7C6U";var o=a(8139),c=a.n(o),l=a(3774),i=a(579);const u=e=>{let{children:t,className:a,firstSection:o,lastSection:u=!1}=e;return(0,i.jsx)("section",{className:c()(a,s,{[r]:o,[n]:u}),children:(0,i.jsx)(l.m,{children:t})})}},4679:(e,t,a)=>{a.d(t,{Q:()=>s});const s={home:"Welcome to Nice Gadgets store!",phones:"Mobile phones",tablets:"Tablets",accessories:"Accessories",favorites:"Favorites",cart:"Cart"}}}]);
//# sourceMappingURL=218.0c9c2048.chunk.js.map