"use strict";(self.webpackChunkreact_phone_catalog=self.webpackChunkreact_phone_catalog||[]).push([[255],{5488:(e,t,a)=>{a.d(t,{u:()=>x});var s=a(5043),n=a(2640),l=a(1516);const o="pagePartTop_breadcrumbs__opQQr",c="pagePartTop_breadcrumbs__link__N2v4g",r="pagePartTop_title__m6MOt",i="pagePartTop_label__AHrb1",d="pagePartTop_currentBreadcrumb__ZkMpa",u="pagePartTop_backButton__qC98z";var m=a(3216),_=a(5475),h=a(3594),p=a(3762),C=a(8139),k=a.n(C),j=a(1596),v=a(579);const x=(0,s.memo)((e=>{let{title:t,isLoadingTitle:a=!1,isLoading:C=!1,productsCount:x=0,tag:g="h1",productName:b}=e;const{itemId:N}=(0,m.g)(),f=(0,m.zy)(),y=(0,m.Zp)(),[w,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{var e;const t=void 0!==(null===(e=f.state)||void 0===e?void 0:e.fromLocation);A(!!t)}),[f]);const P=(0,s.useMemo)((()=>{const e=f.pathname.split("/");return e.map(((t,a)=>{const s=a===e.length-1,n="".concat(e.slice(0,a+1).join("/"));return 0===a?(0,v.jsx)(_.N_,{to:h.AY.home,className:k()(c,p.A["_icon-home"])},a):"products"===t?null:s?(0,v.jsx)("span",{className:d,children:N?b||"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":(0,j.Z)(t)},a):(0,v.jsx)(_.N_,{to:n,className:c,children:(0,j.Z)(t)},a)}))}),[N,f.pathname,b]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("nav",{className:o,children:P.filter(Boolean)}),w&&(0,v.jsx)("button",{className:k()(u,p.A["_icon-arrow"]),onClick:()=>{y(-1)},children:"Back"}),a?(0,v.jsx)(l.m,{height:"h1"===g?56:41,width:"100%",className:r}):(0,v.jsx)(n.v,{Tag:g,title:t,className:r}),C&&(0,v.jsx)(l.m,{height:21,width:"100%"}),!C&&0!==x&&(0,v.jsx)("p",{className:i,children:"".concat(x," models")})]})}))},9255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(5043),n=a(5488),l=a(4763),o=a(8115);const c="cartProductsList_list__NZ8jF";var r=a(5786),i=a(9663),d=a(8139),u=a.n(d),m=a(3524),_=a(579);const h=(0,s.memo)((e=>{let{className:t,minusAmount:a,plusAmount:n,totalCountHandler:l,totalAmountHandler:d,setIsEmptyHandler:h,isLoading:p,isLoadingHandler:C}=e;const[k,j]=(0,s.useState)([]),[v,x]=(0,r.M)(i.U,[]),g=(e,t)=>e.reduce(((e,a)=>{var s;const n=(null===(s=t.find((e=>e.itemId===a.itemId)))||void 0===s?void 0:s.count)||1;return e+a.price*n}),0),b=e=>e.reduce(((e,t)=>e+t.count),0),N=(0,s.useCallback)((e=>{const t=t=>t.itemId!==e,a=[...v].filter(t),s=k.filter(t);x(a),j((e=>e.filter(t))),l(b(a)),d(g(s,a)),0===a.length&&h(!0)}),[v,k,x,h,d,l]),f=(0,s.useCallback)(((e,t)=>{const a=v.findIndex((e=>e.itemId===t));v[a]&&(v[a].count++,x([...v]),null===n||void 0===n||n(e))}),[v,n,x]),y=(0,s.useCallback)(((e,t)=>{const s=v.findIndex((e=>e.itemId===t));v[s]&&v[s].count-1!==0&&(v[s].count--,x([...v]),null===a||void 0===a||a(e),0===e&&h(!0))}),[v,a,x,h]),w=(0,s.useMemo)((()=>k.map((e=>(0,_.jsx)(o.st,{product:e,removeCart:N,plusAmount:f,minusAmount:y},e.id)))),[f,y,k,N]);return(0,s.useEffect)((()=>{C(!0),(async()=>{let e=await(0,o.j0)();return Array.isArray(e)?(e=[...e].filter((e=>e.cartItem)),e):[]})().then((e=>{0===e.length?h(!0):(j(e),h(!1),d(g(e,v)),l(b(v)))})).finally((()=>C(!1)))}),[C,h,d,l]),(0,_.jsx)("div",{className:u()(c,t),children:p?(0,_.jsx)(m.a,{}):w})}));var p=a(5600);const C="chekout_title__qNdwf",k="chekout_buttons__QGLQk",j="chekout_card__FkHfK",v="chekout_card__top__UlwXW",x="chekout_amount__7CWCz",g="chekout_count__IWgOa",b="modal_modal__thoV9",N="modal_content__Fa1Pm",f="modal_opened__8TQ0W",y="modal_isClosing__I88ia",w="modal_overlay__ZbsfB";var A=a(7950);const P=e=>{let{children:t,element:a=document.body}=e;return(0,A.createPortal)(t,a)};var S=a(3699);const I=e=>{const{className:t,children:a,isOpen:n,onClose:l}=e,{theme:o}=(0,S.DP)(),{isClosing:c,close:r}=function(e){const{onClose:t,isOpen:a,animationDelay:n=300}=e,[l,o]=(0,s.useState)(!1),c=(0,s.useRef)(),r=(0,s.useCallback)((()=>{t&&(o(!0),c.current=setTimeout((()=>{t(),o(!1)}),n))}),[n,t]),i=(0,s.useCallback)((e=>{"Escape"===e.key&&r()}),[r]);return(0,s.useEffect)((()=>(a&&window.addEventListener("keydown",i),()=>{clearTimeout(c.current),window.removeEventListener("keydown",i)})),[a,i]),{isClosing:l,close:r}}({animationDelay:300,isOpen:n,onClose:l});return(0,_.jsx)(P,{children:(0,_.jsxs)("div",{className:u()(b,{[f]:n,[y]:c},[t,o,"app_modal"]),children:[(0,_.jsx)("div",{role:"presentation",onClick:r,onKeyDown:r,className:u()(w)}),(0,_.jsx)("div",{className:N,children:a})]})})};var L=a(2640);const T=e=>{let{className:t,totalAmount:a,totalCount:n,removeAllHandler:l}=e;const[c,i]=(0,s.useState)(!1),[,d]=(0,r.M)(o.Uy,[]),m=(0,s.useCallback)((()=>{i((e=>!e))}),[]),h=(0,s.useCallback)((()=>{d([]),l()}),[l,d]);return(0,_.jsxs)("div",{className:u()(j,t),children:[(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)("p",{className:x,children:a}),(0,_.jsx)("p",{className:g,children:"Total for ".concat(n," items")})]}),(0,_.jsx)(p.$n,{onClick:m,size:p.Mp.FULL,children:"Checkout"}),(0,_.jsxs)(I,{isOpen:c,onClose:m,children:[(0,_.jsx)(L.v,{Tag:"h3",title:"Checkout is not implemented yet. Do you want to clear the Cart?",className:C}),(0,_.jsxs)("div",{className:k,children:[(0,_.jsx)(p.$n,{onClick:h,children:"Clear"}),(0,_.jsx)(p.$n,{onClick:m,children:"Cancel"})]})]})]})},H={body:"cartPage_body__bd0Pi",list:"cartPage_list__3BU+y",checkout:"cartPage_checkout__Gg2Dl"};var M=a(2272);function E(){const[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(0),[c,r]=(0,s.useState)(0),[i,d]=(0,s.useState)(!1),u=(0,s.useCallback)((e=>{d(e)}),[]),m=(0,s.useCallback)((e=>{t(e)}),[]),p=(0,s.useCallback)((e=>{r(e)}),[]),C=(0,s.useCallback)((e=>{o(e)}),[]),k=(0,s.useCallback)((e=>{o((t=>t+e)),r((e=>e+1))}),[]),j=(0,s.useCallback)((e=>{a-e<=0?o(0):(o((t=>t-e)),r((e=>e-1)))}),[a]),v=(0,s.useCallback)((()=>{p(0),C(0),m(!0)}),[m,C,p]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.w,{firstSection:!0,lastSection:!0,children:[(0,_.jsx)(n.u,{tag:"h2",title:"Cart"}),e?(0,_.jsx)(M.M,{src:"img/cart-is-empty.png",alt:"Cart is empty"}):(0,_.jsxs)("div",{className:H.body,children:[(0,_.jsx)(h,{className:H.list,plusAmount:k,minusAmount:j,totalCountHandler:p,totalAmountHandler:C,setIsEmptyHandler:m,isLoading:i,isLoadingHandler:u}),!i&&(0,_.jsx)(T,{className:H.checkout,totalAmount:a,totalCount:c,removeAllHandler:v})]})]})})}},2272:(e,t,a)=>{a.d(t,{M:()=>l});const s="notFound_wrapper__Ky7Jb";var n=a(579);const l=e=>{let{alt:t,src:a}=e;return(0,n.jsx)("div",{className:s,children:(0,n.jsx)("img",{src:a,alt:t})})}},4763:(e,t,a)=>{a.d(t,{w:()=>d});const s="section_standartSection__QZBN0",n="section_firstSection__fmPZ6",l="section_padding-bottom__s7C6U";var o=a(8139),c=a.n(o),r=a(3774),i=a(579);const d=e=>{let{children:t,className:a,firstSection:o,lastSection:d=!1}=e;return(0,i.jsx)("section",{className:c()(a,s,{[n]:o,[l]:d}),children:(0,i.jsx)(r.m,{children:t})})}}}]);
//# sourceMappingURL=255.440eaa56.chunk.js.map