{"version":3,"file":"static/js/255.d87bcb29.chunk.js","mappings":"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","sources":["webpack://react_phone-catalog/./src/features/PagePartTop/ui/pagePartTop.module.scss?4cfa","features/PagePartTop/ui/PagePartTop.tsx","pages/CartPage/model/services/getCartProducts.ts","webpack://react_phone-catalog/./src/pages/CartPage/ui/CartProductsList/cartProductsList.module.scss?f698","pages/CartPage/ui/CartProductsList/CartProductsList.tsx","webpack://react_phone-catalog/./src/pages/CartPage/ui/Checkout/chekout.module.scss?6817","webpack://react_phone-catalog/./src/shared/ui/Modal/modal.module.scss?b800","shared/ui/Portal/Portal.tsx","shared/ui/Modal/Modal.tsx","shared/lib/hooks/useModal.ts","pages/CartPage/ui/Checkout/Checkout.tsx","webpack://react_phone-catalog/./src/pages/CartPage/ui/CartPage/cartPage.module.scss?7999","pages/CartPage/ui/CartPage/CartPage.tsx","webpack://react_phone-catalog/./src/shared/ui/NotFound/notFound.module.scss?92df","shared/ui/NotFound/NotFound.tsx","webpack://react_phone-catalog/./src/shared/ui/Section/ui/section.module.scss?0e71","shared/ui/Section/ui/Section.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"breadcrumbs\":\"pagePartTop_breadcrumbs__opQQr\",\"breadcrumbs__link\":\"pagePartTop_breadcrumbs__link__N2v4g\",\"title\":\"pagePartTop_title__m6MOt\",\"label\":\"pagePartTop_label__AHrb1\",\"currentBreadcrumb\":\"pagePartTop_currentBreadcrumb__ZkMpa\",\"backButton\":\"pagePartTop_backButton__qC98z\"};","import { memo, useEffect, useMemo, useState } from 'react';\nimport { TitleTag, TitleTagType } from '../../../shared/ui/TitleTag';\nimport { Sceleton } from '../../../shared/ui/Sceleton/Sceleton';\nimport cls from './pagePartTop.module.scss';\nimport { Link, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { RoutePaths } from '../../../shared/config/routeConfig';\nimport icons from '../../../shared/styles/icons.module.scss';\nimport classNames from 'classnames';\nimport { capitalizeFirstLetter } from '../../../shared/lib/utils/capitalizeFirstLetter';\n\ninterface Props {\n  isLoading?: boolean;\n  isLoadingTitle?: boolean;\n  productsCount?: number;\n  title: string;\n  tag?: TitleTagType;\n  productName?: string; // Додаємо пропс для назви продукту\n}\n\nexport const PagePartTop = memo(\n  ({\n    title,\n    isLoadingTitle = false,\n    isLoading = false,\n    productsCount = 0,\n    tag = 'h1',\n    productName,\n  }: Props) => {\n    const { itemId } = useParams<{ itemId?: string }>();\n    const location = useLocation();\n    const navigate = useNavigate();\n    const [showBackButton, setShowBackButton] = useState<boolean>(false);\n\n    useEffect(() => {\n      const isFromLocation = location.state?.fromLocation !== undefined;\n\n      if (isFromLocation) {\n        setShowBackButton(true);\n      } else {\n        setShowBackButton(false);\n      }\n    }, [location]);\n\n    const handleBackClick = () => {\n      if (location.state?.fromLocation) {\n        navigate(location.state.fromLocation);\n      }\n    };\n\n    const breadcrumbs = useMemo(() => {\n      const locationParts = location.pathname.split('/');\n\n      return locationParts.map((pathPart, index) => {\n        const isLast = index === locationParts.length - 1;\n        const linkPath = `${locationParts.slice(0, index + 1).join('/')}`;\n\n        if (index === 0) {\n          return (\n            <Link\n              to={RoutePaths.home}\n              key={index}\n              className={classNames(cls.breadcrumbs__link, icons['_icon-home'])}\n            />\n          );\n        }\n\n        if (pathPart === 'products') {\n          return null;\n        }\n\n        if (isLast) {\n          return (\n            <span key={index} className={cls.currentBreadcrumb}>\n              {itemId\n                ? productName || 'Завантаження...'\n                : capitalizeFirstLetter(pathPart)}\n            </span>\n          );\n        }\n\n        return (\n          <Link to={linkPath} key={index} className={cls.breadcrumbs__link}>\n            {capitalizeFirstLetter(pathPart)}\n          </Link>\n        );\n      });\n    }, [itemId, location.pathname, productName]);\n\n    return (\n      <>\n        <nav className={cls.breadcrumbs}>{breadcrumbs.filter(Boolean)}</nav>\n        {showBackButton && (\n          <button\n            className={classNames(cls.backButton, icons['_icon-arrow'])}\n            onClick={handleBackClick}\n          >\n            Back\n          </button>\n        )}\n        {isLoadingTitle ? (\n          <Sceleton\n            height={tag === 'h1' ? 56 : 41}\n            width={'100%'}\n            className={cls.title}\n          />\n        ) : (\n          <TitleTag Tag={tag} title={title} className={cls.title} />\n        )}\n        {isLoading && <Sceleton height={21} width={'100%'} />}\n        {!isLoading && productsCount !== 0 && (\n          <p className={cls.label}>{`${productsCount} models`}</p>\n        )}\n      </>\n    );\n  },\n);\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\n/* eslint-disable no-param-reassign */\nimport { fetchProducts, Product } from '../../../../entities/Product';\n\nexport const getCartProducts = async (): Promise<Product[]> => {\n  let response = await fetchProducts();\n\n  if (Array.isArray(response)) {\n    response = [...response].filter(item => item.cartItem);\n\n    return response;\n  }\n\n  return [];\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"cartProductsList_list__NZ8jF\"};","/* eslint-disable no-param-reassign */\n/* eslint-disable @typescript-eslint/indent */\nimport { memo, useCallback, useEffect, useMemo, useState } from 'react';\nimport { CartProductCard, Product } from '../../../../entities/Product';\nimport { getCartProducts } from '../../model/services/getCartProducts';\nimport cls from './cartProductsList.module.scss';\nimport {\n  ICartItemsLocalStorage,\n  useLocalStorage,\n} from '../../../../shared/lib/hooks/useLocalStorage';\nimport { LOCAL_STORAGE_CART_PRODUCTS } from '../../../../entities/Product/model/types/product';\nimport classNames from 'classnames';\nimport { Loader } from '../../../../shared/ui/Loader';\n\ninterface Props {\n  className?: string;\n  plusAmount?: (amount: number) => void;\n  minusAmount?: (amount: number) => void;\n  totalCountHandler: (count: number) => void;\n  totalAmountHandler: (count: number) => void;\n  setIsEmptyHandler: (empty: boolean) => void;\n  isLoading: boolean;\n  isLoadingHandler: (loading: boolean) => void;\n}\n\nexport const CartProductsList = memo(\n  ({\n    className,\n    minusAmount,\n    plusAmount,\n    totalCountHandler,\n    totalAmountHandler,\n    setIsEmptyHandler,\n    isLoading,\n    isLoadingHandler,\n  }: Props) => {\n    const [products, setProducts] = useState<Product[]>([]);\n    const [cartLocalStorage, setCartLocalStorage] = useLocalStorage<\n      ICartItemsLocalStorage[]\n    >(LOCAL_STORAGE_CART_PRODUCTS, []);\n\n    const costCalcucation = (\n      items: Product[],\n      localStorageItems: ICartItemsLocalStorage[],\n    ) =>\n      items.reduce((acc, item) => {\n        const count =\n          localStorageItems.find(\n            localStorageItem => localStorageItem.itemId === item.itemId,\n          )?.count || 1;\n\n        return (acc += item.price * count);\n      }, 0);\n\n    const removeCart = useCallback(\n      (itemId: string) => {\n        const filterItems = (item: Product | ICartItemsLocalStorage) =>\n          item.itemId !== itemId;\n        const currentCartLocalStorage = [...cartLocalStorage].filter(\n          filterItems,\n        );\n        const newItems = products.filter(filterItems);\n\n        setCartLocalStorage(currentCartLocalStorage);\n        setProducts(prev => prev.filter(filterItems));\n        totalCountHandler(newItems.length);\n        totalAmountHandler(costCalcucation(newItems, currentCartLocalStorage));\n\n        if (currentCartLocalStorage.length === 0) {\n          setIsEmptyHandler(true);\n        }\n      },\n      [\n        cartLocalStorage,\n        products,\n        setCartLocalStorage,\n        setIsEmptyHandler,\n        totalAmountHandler,\n        totalCountHandler,\n      ],\n    );\n\n    const plusAmountHanler = useCallback(\n      (amount: number, itemId: string) => {\n        const currentCartLocalStorageIndex = cartLocalStorage.findIndex(\n          item => item.itemId === itemId,\n        );\n\n        if (cartLocalStorage[currentCartLocalStorageIndex]) {\n          cartLocalStorage[currentCartLocalStorageIndex].count++;\n          setCartLocalStorage([...cartLocalStorage]);\n          plusAmount?.(amount);\n        }\n      },\n      [cartLocalStorage, plusAmount, setCartLocalStorage],\n    );\n\n    const minusAmountHanler = useCallback(\n      (amount: number, itemId: string) => {\n        const currentCartLocalStorageIndex = cartLocalStorage.findIndex(\n          item => item.itemId === itemId,\n        );\n\n        if (\n          cartLocalStorage[currentCartLocalStorageIndex] &&\n          cartLocalStorage[currentCartLocalStorageIndex].count - 1 !== 0\n        ) {\n          cartLocalStorage[currentCartLocalStorageIndex].count--;\n          setCartLocalStorage([...cartLocalStorage]);\n          minusAmount?.(amount);\n\n          if (amount === 0) {\n            setIsEmptyHandler(true);\n          }\n        }\n      },\n      [cartLocalStorage, minusAmount, setCartLocalStorage, setIsEmptyHandler],\n    );\n\n    const productsList = useMemo(\n      () =>\n        products.map(item => (\n          <CartProductCard\n            key={item.id}\n            product={item}\n            removeCart={removeCart}\n            plusAmount={plusAmountHanler}\n            minusAmount={minusAmountHanler}\n          />\n        )),\n      [plusAmountHanler, minusAmountHanler, products, removeCart],\n    );\n\n    useEffect(() => {\n      isLoadingHandler(true);\n      getCartProducts()\n        .then(items => {\n          if (items.length === 0) {\n            setIsEmptyHandler(true);\n          } else {\n            setProducts(items);\n            setIsEmptyHandler(false);\n            totalAmountHandler(costCalcucation(items, cartLocalStorage));\n            totalCountHandler(items.length);\n          }\n        })\n        .finally(() => isLoadingHandler(false));\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n      isLoadingHandler,\n      setIsEmptyHandler,\n      totalAmountHandler,\n      totalCountHandler,\n    ]);\n\n    return (\n      <div className={classNames(cls.list, className)}>\n        {!isLoading ? productsList : <Loader />}\n      </div>\n    );\n  },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"chekout_title__qNdwf\",\"buttons\":\"chekout_buttons__QGLQk\",\"card\":\"chekout_card__FkHfK\",\"card__top\":\"chekout_card__top__UlwXW\",\"amount\":\"chekout_amount__7CWCz\",\"count\":\"chekout_count__IWgOa\"};","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal_modal__thoV9\",\"content\":\"modal_content__Fa1Pm\",\"opened\":\"modal_opened__8TQ0W\",\"isClosing\":\"modal_isClosing__I88ia\",\"overlay\":\"modal_overlay__ZbsfB\"};","import { FC, ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\n\ninterface Props {\n  children: ReactNode;\n  element?: HTMLElement;\n}\n\nexport const Portal: FC<Props> = ({ children, element = document.body }) => {\n  return createPortal(children, element);\n};\n","import { FC, ReactNode } from 'react';\nimport cls from './modal.module.scss';\nimport { useModal } from '../../lib/hooks/useModal';\nimport classNames from 'classnames';\nimport { Portal } from '../Portal';\nimport { useTheme } from '../../../app/providers/ThemeProvider';\n\ninterface ModalProps {\n  className?: string;\n  children?: ReactNode;\n  isOpen?: boolean;\n  onClose?: () => void;\n}\n\nexport const Modal: FC<ModalProps> = props => {\n  const { className, children, isOpen, onClose } = props;\n  const { theme } = useTheme();\n\n  const { isClosing, close: closeHandler } = useModal({\n    animationDelay: 300,\n    isOpen,\n    onClose,\n  });\n\n  return (\n    <Portal>\n      <div\n        className={classNames(\n          cls.modal,\n          {\n            [cls.opened]: isOpen,\n            [cls.isClosing]: isClosing,\n          },\n          [className, theme, 'app_modal'],\n        )}\n      >\n        <div\n          role=\"presentation\"\n          onClick={closeHandler}\n          onKeyDown={closeHandler}\n          className={classNames(cls.overlay)}\n        />\n        <div className={cls.content}>{children}</div>\n      </div>\n    </Portal>\n  );\n};\n","import {\n  MutableRefObject,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\ninterface UseModalProps {\n  onClose?: () => void;\n  isOpen?: boolean;\n  animationDelay?: number;\n}\n\nexport function useModal(props: UseModalProps) {\n  const { onClose, isOpen, animationDelay = 300 } = props;\n\n  const [isClosing, setIsClosing] = useState<boolean>(false);\n  // const [isMounting, setIsMounting] = useState(false);\n  const timerRef = useRef() as MutableRefObject<ReturnType<typeof setTimeout>>;\n\n  // useEffect(() => {\n  //   if (isOpen) {\n  //     setIsMounting(true);\n  //   }\n  // }, [isOpen]);\n\n  const close = useCallback(() => {\n    if (onClose) {\n      setIsClosing(true);\n      timerRef.current = setTimeout(() => {\n        onClose();\n        setIsClosing(false);\n      }, animationDelay);\n    }\n  }, [animationDelay, onClose]);\n\n  const onKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        close();\n      }\n    },\n    [close],\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keydown', onKeyDown);\n    }\n\n    return () => {\n      clearTimeout(timerRef.current);\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, onKeyDown]);\n\n  return {\n    isClosing,\n    // isMounting,\n    close,\n  };\n}\n","/* eslint-disable @typescript-eslint/indent */\nimport classNames from 'classnames';\nimport { FC, useCallback, useState } from 'react';\nimport { Button, ButtonSize } from '../../../../shared/ui/forms';\nimport cls from './chekout.module.scss';\nimport { Modal } from '../../../../shared/ui/Modal';\nimport { TitleTag } from '../../../../shared/ui/TitleTag';\nimport {\n  ICartItemsLocalStorage,\n  useLocalStorage,\n} from '../../../../shared/lib/hooks/useLocalStorage';\nimport { LOCAL_STORAGE_CART_PRODUCTS } from '../../../../entities/Product';\n\ninterface Props {\n  className?: string;\n  totalAmount: number;\n  totalCount: number;\n  removeAllHandler: () => void;\n}\n\nexport const Checkout: FC<Props> = ({\n  className,\n  totalAmount,\n  totalCount,\n  removeAllHandler,\n}) => {\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n  const [, setCartLocalStorage] = useLocalStorage<ICartItemsLocalStorage[]>(\n    LOCAL_STORAGE_CART_PRODUCTS,\n    [],\n  );\n\n  const omToggleModal = useCallback(() => {\n    setIsModalOpen(prev => !prev);\n  }, []);\n\n  const removeAll = useCallback(() => {\n    setCartLocalStorage([]);\n    removeAllHandler();\n  }, [removeAllHandler, setCartLocalStorage]);\n\n  return (\n    <div className={classNames(cls.card, className)}>\n      <div className={cls.card__top}>\n        <p className={cls.amount}>{totalAmount}</p>\n        <p className={cls.count}>{`Total for ${totalCount} items`}</p>\n      </div>\n\n      <Button onClick={omToggleModal} size={ButtonSize.FULL}>\n        {'Checkout'}\n      </Button>\n\n      <Modal isOpen={isModalOpen} onClose={omToggleModal}>\n        <TitleTag\n          Tag=\"h3\"\n          title=\"Checkout is not implemented yet. Do you want to clear the Cart?\"\n          className={cls.title}\n        />\n        <div className={cls.buttons}>\n          <Button onClick={removeAll}>Clear</Button>\n          <Button onClick={omToggleModal}>Cancel</Button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"body\":\"cartPage_body__bd0Pi\",\"list\":\"cartPage_list__3BU+y\",\"checkout\":\"cartPage_checkout__Gg2Dl\"};","import { useCallback, useState } from 'react';\nimport { PagePartTop } from '../../../../features/PagePartTop';\nimport { Section } from '../../../../shared/ui/Section';\nimport { CartProductsList } from '../CartProductsList';\nimport { Checkout } from '../Checkout/Checkout';\nimport cls from './cartPage.module.scss';\nimport { NotFound } from '../../../../shared/ui/NotFound';\n\nexport default function CartPage() {\n  const [isEmpty, setisEmpty] = useState<boolean>(false);\n  const [totalAmount, setTotalAmount] = useState<number>(0);\n  const [totalCount, setTotalCount] = useState<number>(0);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const isLoadingHandler = useCallback((loading: boolean) => {\n    setIsLoading(loading);\n  }, []);\n\n  const setIsEmptyHandler = useCallback((empty: boolean) => {\n    setisEmpty(empty);\n  }, []);\n\n  const totalCountHandler = useCallback((count: number) => {\n    setTotalCount(count);\n  }, []);\n\n  const totalAmountHandler = useCallback((amount: number) => {\n    setTotalAmount(amount);\n  }, []);\n\n  const plusTotalAmount = useCallback((amount: number) => {\n    setTotalAmount(prev => prev + amount);\n  }, []);\n\n  const minusTotalAmount = useCallback(\n    (amount: number) => {\n      if (totalAmount - amount <= 0) {\n        setTotalAmount(0);\n      } else {\n        setTotalAmount(prev => prev - amount);\n      }\n    },\n    [totalAmount],\n  );\n\n  const removeAllHandler = useCallback(() => {\n    totalCountHandler(0); // Оновлення кількості товарів\n    totalAmountHandler(0); // Оновлення загальної суми\n    setIsEmptyHandler(true); // Встановлення стану порожньої корзини\n  }, [setIsEmptyHandler, totalAmountHandler, totalCountHandler]);\n\n  return (\n    <>\n      <Section firstSection lastSection>\n        <PagePartTop tag=\"h2\" title=\"Cart\" />\n\n        {isEmpty ? (\n          <NotFound src=\"img/cart-is-empty.png\" alt=\"Cart is empty\" />\n        ) : (\n          <div className={cls.body}>\n            <CartProductsList\n              className={cls.list}\n              plusAmount={plusTotalAmount}\n              minusAmount={minusTotalAmount}\n              totalCountHandler={totalCountHandler}\n              totalAmountHandler={totalAmountHandler}\n              setIsEmptyHandler={setIsEmptyHandler}\n              isLoading={isLoading}\n              isLoadingHandler={isLoadingHandler}\n            />\n            {!isLoading && (\n              <Checkout\n                className={cls.checkout}\n                totalAmount={totalAmount}\n                totalCount={totalCount}\n                removeAllHandler={removeAllHandler}\n              />\n            )}\n          </div>\n        )}\n      </Section>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"notFound_wrapper__Ky7Jb\"};","import { FC } from 'react';\nimport cls from './notFound.module.scss';\n\ninterface Props {\n  src: string;\n  alt: string;\n}\n\nexport const NotFound: FC<Props> = ({ alt, src }) => (\n  <div className={cls.wrapper}>\n    <img src={src} alt={alt} />\n  </div>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"standartSection\":\"section_standartSection__QZBN0\",\"firstSection\":\"section_firstSection__fmPZ6\",\"padding-bottom\":\"section_padding-bottom__s7C6U\"};","/* eslint-disable react/display-name */\nimport { ReactNode } from 'react';\nimport cls from './section.module.scss';\nimport classNames from 'classnames';\nimport { Container } from '../../Container';\n\ninterface Props {\n  className?: string;\n  children: ReactNode;\n  firstSection?: boolean;\n  lastSection?: boolean;\n}\n\nexport const Section = ({\n  children,\n  className,\n  firstSection,\n  lastSection = false,\n}: Props) => {\n  return (\n    <section\n      className={classNames(className, cls.standartSection, {\n        [cls.firstSection]: firstSection,\n        [cls['padding-bottom']]: lastSection,\n      })}\n    >\n      <Container>{children}</Container>\n    </section>\n  );\n};\n"],"names":["PagePartTop","memo","_ref","title","isLoadingTitle","isLoading","productsCount","tag","productName","itemId","useParams","location","useLocation","navigate","useNavigate","showBackButton","setShowBackButton","useState","useEffect","_location$state","isFromLocation","undefined","state","fromLocation","breadcrumbs","useMemo","locationParts","pathname","split","map","pathPart","index","isLast","length","linkPath","concat","slice","join","_jsx","Link","to","RoutePaths","home","className","classNames","cls","icons","children","capitalizeFirstLetter","_jsxs","_Fragment","filter","Boolean","onClick","handleBackClick","_location$state2","Sceleton","height","width","TitleTag","Tag","CartProductsList","minusAmount","plusAmount","totalCountHandler","totalAmountHandler","setIsEmptyHandler","isLoadingHandler","products","setProducts","cartLocalStorage","setCartLocalStorage","useLocalStorage","LOCAL_STORAGE_CART_PRODUCTS","costCalcucation","items","localStorageItems","reduce","acc","item","_localStorageItems$fi","count","find","localStorageItem","price","removeCart","useCallback","filterItems","currentCartLocalStorage","newItems","prev","plusAmountHanler","amount","currentCartLocalStorageIndex","findIndex","minusAmountHanler","productsList","CartProductCard","product","id","async","response","fetchProducts","Array","isArray","cartItem","getCartProducts","then","finally","Loader","Portal","element","document","body","createPortal","Modal","props","isOpen","onClose","theme","useTheme","isClosing","close","closeHandler","animationDelay","setIsClosing","timerRef","useRef","current","setTimeout","onKeyDown","e","key","window","addEventListener","clearTimeout","removeEventListener","useModal","role","Checkout","totalAmount","totalCount","removeAllHandler","isModalOpen","setIsModalOpen","omToggleModal","removeAll","Button","size","ButtonSize","FULL","CartPage","isEmpty","setisEmpty","setTotalAmount","setTotalCount","setIsLoading","loading","empty","plusTotalAmount","minusTotalAmount","Section","firstSection","lastSection","NotFound","src","alt","list","checkout","Container"],"sourceRoot":""}