"use strict";(self.webpackChunkreact_phone_catalog=self.webpackChunkreact_phone_catalog||[]).push([[218],{5488:(e,t,a)=>{a.d(t,{u:()=>N});var s=a(5043),r=a(2640),o=a(1516);const n="pagePartTop_breadcrumbs__opQQr",c="pagePartTop_breadcrumbs__link__N2v4g",l="pagePartTop_title__m6MOt",i="pagePartTop_label__AHrb1",u="pagePartTop_currentBreadcrumb__ZkMpa",g="pagePartTop_backButton__qC98z";var d=a(3216),p=a(5475),m=a(3594),h=a(3762),_=a(8139),P=a.n(_),j=a(1596),v=a(579);const N=(0,s.memo)((e=>{let{title:t,isLoadingTitle:a=!1,isLoading:_=!1,productsCount:N=0,tag:b="h1",productName:C}=e;const{itemId:f}=(0,d.g)(),x=(0,d.zy)(),S=(0,d.Zp)(),[k,G]=(0,s.useState)(!1);(0,s.useEffect)((()=>{var e;const t=void 0!==(null===(e=x.state)||void 0===e?void 0:e.fromLocation);G(!!t)}),[x]);const L=(0,s.useMemo)((()=>{const e=x.pathname.split("/");return e.map(((t,a)=>{const s=a===e.length-1,r="".concat(e.slice(0,a+1).join("/"));return 0===a?(0,v.jsx)(p.N_,{to:m.AY.home,className:P()(c,h.A["_icon-home"])},a):"products"===t?null:s?(0,v.jsx)("span",{className:u,children:f?C||"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":(0,j.Z)(t)},a):(0,v.jsx)(p.N_,{to:r,className:c,children:(0,j.Z)(t)},a)}))}),[f,x.pathname,C]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("nav",{className:n,children:L.filter(Boolean)}),k&&(0,v.jsx)("button",{className:P()(g,h.A["_icon-arrow"]),onClick:()=>{var e;null!==(e=x.state)&&void 0!==e&&e.fromLocation&&S(x.state.fromLocation)},children:"Back"}),a?(0,v.jsx)(o.m,{height:"h1"===b?56:41,width:"100%",className:l}):(0,v.jsx)(r.v,{Tag:b,title:t,className:l}),_&&(0,v.jsx)(o.m,{height:21,width:"100%"}),!_&&0!==N&&(0,v.jsx)("p",{className:i,children:"".concat(N," models")})]})}))},4218:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(5043),r=a(3216),o=a(5475),n=a(8127),c=a(3146),l=a(9067),i=a(6949);const u="productsPageFilter_filters__NUQYS",g="productsPageFilter_sort__E0Yod",d="productsPageFilter_pages__oeWOA",p="productsPageFilter_search__8CSKi";var m=a(1596),h=a(2681);function _(e,t){const a=new URLSearchParams(e.toString());return Object.entries(t).forEach((e=>{let[t,s]=e;null===s?a.delete(t):a.set(t,s)})),a.toString()}var P=a(6405);const j=(0,a(830).zD)("productsPage/initProductsPage",(async(e,t)=>{let{searchParams:a}=e;const{dispatch:s}=t,r=a.get("sort"),o=a.get("search"),n=a.get("perPage"),c=a.get("page");r&&s(l.GD.setSort(r)),c&&s(l.GD.setCurrentPage(+c)),n&&s(l.GD.setPerPage(n)),o&&s(l.GD.setSearch(o))}));var v=a(8962),N=a(5639),b=a(5600),C=a(8139),f=a.n(C),x=a(579);const S=(0,s.memo)((e=>{const{category:t}=(0,r.g)(),{className:a}=e,[C,S]=(0,o.ok)(),k=(0,n.j)(),{setSort:G,setPerPage:L,setSearch:T,setCurrentPage:A}=l.GD,E=(0,n.G)(i.F),M=(0,n.G)(h.M),w=(0,n.G)(P.T),F=(0,n.G)(N.p),y=(0,s.useCallback)((()=>{k((0,v.k)(t))}),[t,k]),z=function(e,t){const a=(0,s.useRef)();return(0,s.useCallback)((function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{e(...r)}),t)}),[e,t])}(y,500),Z=(0,s.useMemo)((()=>Object.values(c.h).map((e=>({value:e,label:(0,m.Z)(e)})))),[]),B=(0,s.useMemo)((()=>Object.values(c.N).map((e=>({value:e,label:(0,m.Z)(e)})))),[]),D=(0,s.useCallback)((e=>{k(G(e)),k(A(1)),S(_(C,{sort:e!==c.h.NEWEST?e:null})),y()}),[k,y,C,A,S,G]),O=(0,s.useCallback)((e=>{k(L(e)),k(A(1)),S(_(C,{perPage:e!==c.N.ALL?e:null})),y()}),[k,L,A,S,C,y]);return(0,s.useEffect)((()=>{S(_(C,{sort:E!==c.h.NEWEST?E:null,perPage:M!==c.N.ALL?M:null,search:""!==w?w:null}))}),[M,w,C,S,E]),(0,s.useEffect)((()=>{k(j({searchParams:C})),S(_(C,{sort:E!==c.h.NEWEST?E:null,perPage:M!==c.N.ALL?M:null,search:""!==w?w:null,page:1!==F&&M!==c.N.ALL?F.toString():null})),y()}),[t]),(0,x.jsxs)("div",{className:f()(u,a),children:[(0,x.jsx)(b.l6,{className:"".concat(g),label:"Sort By",formElementId:"sortBy",options:Z,value:E,onChange:D}),(0,x.jsx)(b.l6,{className:"".concat(d),label:"Items on page",formElementId:"itemsOnPage",options:B,value:M,onChange:O}),(0,x.jsx)(b.pd,{className:"".concat(p),label:"Search",search:w,onChange:e=>{k(T(e.target.value.trim())),k(A(1)),S(_(C,{search:""!==w?w:null})),z()}})]})}));var k=a(2099),G=a(3278);const L=(0,k.Mz)(G.C,(e=>e.preparedProducts||[])),T=(0,k.Mz)(G.C,(e=>e.isloading)),A=(0,k.Mz)(G.C,(e=>e.productsCount)),E=(0,k.Mz)(G.C,(e=>e.pagesCount));var M=a(8115),w=a(4763),F=a(4865),y=a(5488),z=a(4679),Z=a(3594);const B=(0,k.Mz)(G.C,(e=>e.error)),D="productPage_productPage__filter__aWbeX";var O=a(3797),Q=a(3555);const W=()=>{const{category:e}=(0,r.g)(),t=(0,n.j)(),a=(0,n.G)(E),{setCurrentPage:c}=l.GD,[i,u]=(0,o.ok)(),g=(0,n.G)(L),d=(0,n.G)(A),p=(0,n.G)(T),m=(0,n.G)(N.p),h=(0,n.G)(B),P=z.Q[e],j=(0,s.useCallback)((a=>{m!==a&&(t(c(a)),u(_(i,{page:1!==a?a.toString():null})),t((0,v.k)(e)))}),[e,m,t,i,c,u]),b=Object.values(F.GV).includes(e);return b?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(w.w,{firstSection:!0,lastSection:!0,children:[(0,x.jsx)(y.u,{isLoading:p,productsCount:d,title:P}),!h&&b?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(S,{className:D}),g.length>1?(0,x.jsx)(M.jR,{products:g,isLoading:p,totalPages:a,onChangeCurrentPage:j,currentPage:m}):(0,x.jsx)(Q.V,{text:"There are no ".concat(e," yet")})]}):(0,x.jsx)(O.A,{})]})}):(0,x.jsx)(r.C5,{to:Z.AY.not_found,replace:!0})}},4763:(e,t,a)=>{a.d(t,{w:()=>u});const s="section_standartSection__QZBN0",r="section_firstSection__fmPZ6",o="section_padding-bottom__s7C6U";var n=a(8139),c=a.n(n),l=a(3774),i=a(579);const u=e=>{let{children:t,className:a,firstSection:n,lastSection:u=!1}=e;return(0,i.jsx)("section",{className:c()(a,s,{[r]:n,[o]:u}),children:(0,i.jsx)(l.m,{children:t})})}},4679:(e,t,a)=>{a.d(t,{Q:()=>s});const s={home:"Welcome to Nice Gadgets store!",phones:"Mobile phones",tablets:"Tablets",accessories:"Accessories",favorites:"Favorites",cart:"Cart"}}}]);
//# sourceMappingURL=218.fa63c058.chunk.js.map